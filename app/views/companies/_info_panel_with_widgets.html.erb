<div id="tabpanel-informations-panel"
     class="fr-tabs__panel fr-tabs__panel--selected"
     role="tabpanel"
     aria-labelledby="tabpanel-informations"
     tabindex="0">
  <div class="fr-grid-row fr-grid-row--gutters">
    <!-- INSEE Widget with Turbo Frame -->
    <div class="fr-col-12 fr-col-md-6">
      <%= turbo_frame_tag "insee_widget", 
          src: insee_widget_company_path(@company), 
          loading: :lazy do %>
        <h2>Informations générales</h2>
        <p class="fr-mt-2w">Récupération des données INSEE...</p>
      <% end %>
    </div>
  </div>

  <!-- Establishments Widget with Turbo Frame -->
  <div class="fr-grid-row fr-grid-row--gutters fr-mt-2w">
    <div class="fr-col-12">
      <%= turbo_frame_tag "establishments_widget", 
          src: establishments_widget_company_path(@company), 
          loading: :lazy do %>
        <h2>
          Établissements de l'entreprise
          <span class="fr-badge fr-badge--info fr-badge--sm">Chargement...</span>
        </h2>
        <div>
          <div class="fr-spinner" aria-hidden="true"></div>
          <p class="fr-text--sm">Récupération des établissements...</p>
        </div>
      <% end %>
    </div>
  </div>
</div>
